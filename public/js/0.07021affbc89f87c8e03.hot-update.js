webpackHotUpdate(0,{

/***/ 69:
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.facebookLogin = facebookLogin;\nexports.link = link;\nexports.unlink = unlink;\n\nvar _url = __webpack_require__(583);\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _querystring = __webpack_require__(263);\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _moment = __webpack_require__(1);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _reactCookie = __webpack_require__(264);\n\nvar _reactCookie2 = _interopRequireDefault(_reactCookie);\n\nvar _reactRouter = __webpack_require__(33);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Sign in with Facebook\nfunction facebookLogin() {\n  var facebook = {\n    url: 'http://localhost:3000/auth/facebook',\n    //boilerplate id:\n    // clientId: '980220002068787',\n    //fb id:\n    clientId: '1551965698224328',\n    redirectUri: 'http://localhost:3000/auth/facebook/callback',\n    authorizationUrl: 'https://www.facebook.com/v2.5/dialog/oauth',\n    scope: 'email,user_location',\n    width: 580,\n    height: 400\n  };\n  console.log('facebook', facebook);\n\n  return function (dispatch) {\n    oauth2(facebook, dispatch).then(openPopup).then(pollPopup).then(exchangeCodeForToken).then(signIn).then(closePopup);\n  };\n}\n\n// Link account\nfunction link(provider) {\n  switch (provider) {\n    case 'facebook':\n      return facebookLogin();\n    default:\n      return {\n        type: 'LINK_FAILURE',\n        messages: [{ msg: 'Invalid OAuth Provider' }]\n      };\n  }\n}\n\n// Unlink account\nfunction unlink(provider) {\n  return function (dispatch) {\n    return fetch('/unlink/' + provider).then(function (response) {\n      if (response.ok) {\n        return response.json().then(function (json) {\n          dispatch({\n            type: 'UNLINK_SUCCESS',\n            messages: [json]\n          });\n        });\n      } else {\n        return response.json().then(function (json) {\n          dispatch({\n            type: 'UNLINK_FAILURE',\n            messages: [json]\n          });\n        });\n      }\n    });\n  };\n}\n\nfunction oauth2(config, dispatch) {\n  return new Promise(function (resolve, reject) {\n    var params = {\n      client_id: config.clientId,\n      redirect_uri: config.redirectUri,\n      scope: config.scope,\n      display: 'popup',\n      response_type: 'code'\n    };\n    var url = config.authorizationUrl + '?' + _querystring2.default.stringify(params);\n    resolve({ url: url, config: config, dispatch: dispatch });\n  });\n}\n\nfunction oauth1(config, dispatch) {\n  return new Promise(function (resolve, reject) {\n    resolve({ url: 'about:blank', config: config, dispatch: dispatch });\n  });\n}\n\nfunction openPopup(_ref) {\n  var url = _ref.url,\n      config = _ref.config,\n      dispatch = _ref.dispatch;\n\n  return new Promise(function (resolve, reject) {\n    var width = config.width || 500;\n    var height = config.height || 500;\n    var options = {\n      width: width,\n      height: height,\n      top: window.screenY + (window.outerHeight - height) / 2.5,\n      left: window.screenX + (window.outerWidth - width) / 2\n    };\n    var popup = window.open(url, '_blank', _querystring2.default.stringify(options, ','));\n\n    if (url === 'about:blank') {\n      popup.document.body.innerHTML = 'Loading...';\n    }\n\n    resolve({ window: popup, config: config, dispatch: dispatch });\n  });\n}\n\nfunction getRequestToken(_ref2) {\n  var window = _ref2.window,\n      config = _ref2.config,\n      dispatch = _ref2.dispatch;\n\n  return new Promise(function (resolve, reject) {\n    return fetch(config.url, {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        redirectUri: config.redirectUri\n      })\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json().then(function (json) {\n          resolve({ window: window, config: config, requestToken: json, dispatch: dispatch });\n        });\n      }\n    });\n  });\n}\n\nfunction pollPopup(_ref3) {\n  var window = _ref3.window,\n      config = _ref3.config,\n      requestToken = _ref3.requestToken,\n      dispatch = _ref3.dispatch;\n\n  return new Promise(function (resolve, reject) {\n    var redirectUri = _url2.default.parse(config.redirectUri);\n    var redirectUriPath = redirectUri.host + redirectUri.pathname;\n\n    if (requestToken) {\n      window.location = config.authorizationUrl + '?' + _querystring2.default.stringify(requestToken);\n    }\n\n    var polling = setInterval(function () {\n      if (!window || window.closed) {\n        clearInterval(polling);\n      }\n      try {\n        var popupUrlPath = window.location.host + window.location.pathname;\n        if (popupUrlPath === redirectUriPath) {\n          if (window.location.search || window.location.hash) {\n            var query = _querystring2.default.parse(window.location.search.substring(1).replace(/\\/$/, ''));\n            var hash = _querystring2.default.parse(window.location.hash.substring(1).replace(/[\\/$]/, ''));\n            var params = Object.assign({}, query, hash);\n\n            if (params.error) {\n              dispatch({\n                type: 'OAUTH_FAILURE',\n                messages: [{ msg: params.error }]\n              });\n            } else {\n              resolve({ oauthData: params, config: config, window: window, interval: polling, dispatch: dispatch });\n            }\n          } else {\n            dispatch({\n              type: 'OAUTH_FAILURE',\n              messages: [{ msg: 'OAuth redirect has occurred but no query or hash parameters were found.' }]\n            });\n          }\n        }\n      } catch (error) {\n        // Ignore DOMException: Blocked a frame with origin from accessing a cross-origin frame.\n        // A hack to get around same-origin security policy errors in Internet Explorer.\n      }\n    }, 500);\n  });\n}\n\nfunction exchangeCodeForToken(_ref4) {\n  var oauthData = _ref4.oauthData,\n      config = _ref4.config,\n      window = _ref4.window,\n      interval = _ref4.interval,\n      dispatch = _ref4.dispatch;\n\n  return new Promise(function (resolve, reject) {\n    var data = Object.assign({}, oauthData, config);\n\n    return fetch(config.url, {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'same-origin', // By default, fetch won't send any cookies to the server\n      body: JSON.stringify(data)\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json().then(function (json) {\n          resolve({ token: json.token, user: json.user, window: window, interval: interval, dispatch: dispatch });\n        });\n      } else {\n        return response.json().then(function (json) {\n          dispatch({\n            type: 'OAUTH_FAILURE',\n            messages: Array.isArray(json) ? json : [json]\n          });\n          closePopup({ window: window, interval: interval });\n        });\n      }\n    });\n  });\n}\n\nfunction signIn(_ref5) {\n  var token = _ref5.token,\n      user = _ref5.user,\n      window = _ref5.window,\n      interval = _ref5.interval,\n      dispatch = _ref5.dispatch;\n\n  return new Promise(function (resolve, reject) {\n    dispatch({\n      type: 'OAUTH_SUCCESS',\n      token: token,\n      user: user\n    });\n    _reactCookie2.default.save('token', token, { expires: (0, _moment2.default)().add(1, 'hour').toDate() });\n    _reactRouter.browserHistory.push('/');\n    resolve({ window: window, interval: interval });\n  });\n}\n\nfunction closePopup(_ref6) {\n  var window = _ref6.window,\n      interval = _ref6.interval;\n\n  return new Promise(function (resolve, reject) {\n    clearInterval(interval);\n    window.close();\n    resolve();\n  });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwL2FjdGlvbnMvb2F1dGguanM/ZGE2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5pbXBvcnQgcXMgZnJvbSAncXVlcnlzdHJpbmcnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IGNvb2tpZSBmcm9tICdyZWFjdC1jb29raWUnO1xuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG4vLyBTaWduIGluIHdpdGggRmFjZWJvb2tcbmV4cG9ydCBmdW5jdGlvbiBmYWNlYm9va0xvZ2luKCkge1xuICBjb25zdCBmYWNlYm9vayA9IHtcbiAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9mYWNlYm9vaycsXG4gICAgLy9ib2lsZXJwbGF0ZSBpZDpcbiAgICAvLyBjbGllbnRJZDogJzk4MDIyMDAwMjA2ODc4NycsXG4gICAgLy9mYiBpZDpcbiAgICBjbGllbnRJZDogJzE1NTE5NjU2OTgyMjQzMjgnLFxuICAgIHJlZGlyZWN0VXJpOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snLFxuICAgIGF1dGhvcml6YXRpb25Vcmw6ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vdjIuNS9kaWFsb2cvb2F1dGgnLFxuICAgIHNjb3BlOiAnZW1haWwsdXNlcl9sb2NhdGlvbicsXG4gICAgd2lkdGg6IDU4MCxcbiAgICBoZWlnaHQ6IDQwMFxuICB9O1xuICBjb25zb2xlLmxvZygnZmFjZWJvb2snLCBmYWNlYm9vayk7XG5cbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIG9hdXRoMihmYWNlYm9vaywgZGlzcGF0Y2gpXG4gICAgICAudGhlbihvcGVuUG9wdXApXG4gICAgICAudGhlbihwb2xsUG9wdXApXG4gICAgICAudGhlbihleGNoYW5nZUNvZGVGb3JUb2tlbilcbiAgICAgIC50aGVuKHNpZ25JbilcbiAgICAgIC50aGVuKGNsb3NlUG9wdXApO1xuICB9O1xufVxuXG4vLyBMaW5rIGFjY291bnRcbmV4cG9ydCBmdW5jdGlvbiBsaW5rKHByb3ZpZGVyKSB7XG4gIHN3aXRjaCAocHJvdmlkZXIpIHtcbiAgICBjYXNlICdmYWNlYm9vayc6XG4gICAgICByZXR1cm4gZmFjZWJvb2tMb2dpbigpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnTElOS19GQUlMVVJFJyxcbiAgICAgICAgbWVzc2FnZXM6IFt7IG1zZzogJ0ludmFsaWQgT0F1dGggUHJvdmlkZXInIH1dXG4gICAgICB9XG4gIH1cbn1cblxuLy8gVW5saW5rIGFjY291bnRcbmV4cG9ydCBmdW5jdGlvbiB1bmxpbmsocHJvdmlkZXIpIHtcbiAgcmV0dXJuIChkaXNwYXRjaCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCgnL3VubGluay8nICsgcHJvdmlkZXIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogJ1VOTElOS19TVUNDRVNTJyxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBbanNvbl1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnVU5MSU5LX0ZBSUxVUkUnLFxuICAgICAgICAgICAgbWVzc2FnZXM6IFtqc29uXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvYXV0aDIoY29uZmlnLCBkaXNwYXRjaCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGNsaWVudF9pZDogY29uZmlnLmNsaWVudElkLFxuICAgICAgcmVkaXJlY3RfdXJpOiBjb25maWcucmVkaXJlY3RVcmksXG4gICAgICBzY29wZTogY29uZmlnLnNjb3BlLFxuICAgICAgZGlzcGxheTogJ3BvcHVwJyxcbiAgICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJ1xuICAgIH07XG4gICAgY29uc3QgdXJsID0gY29uZmlnLmF1dGhvcml6YXRpb25VcmwgKyAnPycgKyBxcy5zdHJpbmdpZnkocGFyYW1zKTtcbiAgICByZXNvbHZlKHsgdXJsOiB1cmwsIGNvbmZpZzogY29uZmlnLCBkaXNwYXRjaDogZGlzcGF0Y2ggfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvYXV0aDEoY29uZmlnLCBkaXNwYXRjaCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlc29sdmUoeyB1cmw6ICdhYm91dDpibGFuaycsIGNvbmZpZzogY29uZmlnLCBkaXNwYXRjaDogZGlzcGF0Y2ggfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuUG9wdXAoeyB1cmwsIGNvbmZpZywgZGlzcGF0Y2ggfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHdpZHRoID0gY29uZmlnLndpZHRoIHx8IDUwMDtcbiAgICBjb25zdCBoZWlnaHQgPSBjb25maWcuaGVpZ2h0IHx8IDUwMDtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICB0b3A6IHdpbmRvdy5zY3JlZW5ZICsgKCh3aW5kb3cub3V0ZXJIZWlnaHQgLSBoZWlnaHQpIC8gMi41KSxcbiAgICAgIGxlZnQ6IHdpbmRvdy5zY3JlZW5YICsgKCh3aW5kb3cub3V0ZXJXaWR0aCAtIHdpZHRoKSAvIDIpXG4gICAgfTtcbiAgICBjb25zdCBwb3B1cCA9IHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycsIHFzLnN0cmluZ2lmeShvcHRpb25zLCAnLCcpKTtcblxuICAgIGlmICh1cmwgPT09ICdhYm91dDpibGFuaycpIHtcbiAgICAgIHBvcHVwLmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJ0xvYWRpbmcuLi4nO1xuICAgIH1cblxuICAgIHJlc29sdmUoeyB3aW5kb3c6IHBvcHVwLCBjb25maWc6IGNvbmZpZywgZGlzcGF0Y2g6IGRpc3BhdGNoIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVxdWVzdFRva2VuKHsgd2luZG93LCBjb25maWcsIGRpc3BhdGNoIH0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXR1cm4gZmV0Y2goY29uZmlnLnVybCwge1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcmVkaXJlY3RVcmk6IGNvbmZpZy5yZWRpcmVjdFVyaVxuICAgICAgfSlcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbigoanNvbikgPT4ge1xuICAgICAgICAgIHJlc29sdmUoeyB3aW5kb3c6IHdpbmRvdywgY29uZmlnOiBjb25maWcsIHJlcXVlc3RUb2tlbjoganNvbiwgZGlzcGF0Y2g6IGRpc3BhdGNoIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBvbGxQb3B1cCh7IHdpbmRvdywgY29uZmlnLCByZXF1ZXN0VG9rZW4sIGRpc3BhdGNoIH0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWRpcmVjdFVyaSA9IHVybC5wYXJzZShjb25maWcucmVkaXJlY3RVcmkpO1xuICAgIGNvbnN0IHJlZGlyZWN0VXJpUGF0aCA9IHJlZGlyZWN0VXJpLmhvc3QgKyByZWRpcmVjdFVyaS5wYXRobmFtZTtcblxuICAgIGlmIChyZXF1ZXN0VG9rZW4pIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IGNvbmZpZy5hdXRob3JpemF0aW9uVXJsICsgJz8nICsgcXMuc3RyaW5naWZ5KHJlcXVlc3RUb2tlbik7XG4gICAgfVxuXG4gICAgY29uc3QgcG9sbGluZyA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICghd2luZG93IHx8IHdpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsaW5nKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvcHVwVXJsUGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgICAgICBpZiAocG9wdXBVcmxQYXRoID09PSByZWRpcmVjdFVyaVBhdGgpIHtcbiAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCB3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBxcy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKS5yZXBsYWNlKC9cXC8kLywgJycpKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBxcy5wYXJzZSh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkucmVwbGFjZSgvW1xcLyRdLywgJycpKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5LCBoYXNoKTtcblxuICAgICAgICAgICAgaWYgKHBhcmFtcy5lcnJvcikge1xuICAgICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ09BVVRIX0ZBSUxVUkUnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbeyBtc2c6IHBhcmFtcy5lcnJvciB9XVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoeyBvYXV0aERhdGE6IHBhcmFtcywgY29uZmlnOiBjb25maWcsIHdpbmRvdzogd2luZG93LCBpbnRlcnZhbDogcG9sbGluZywgZGlzcGF0Y2g6IGRpc3BhdGNoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICAgIHR5cGU6ICdPQVVUSF9GQUlMVVJFJyxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IFt7IG1zZzogJ09BdXRoIHJlZGlyZWN0IGhhcyBvY2N1cnJlZCBidXQgbm8gcXVlcnkgb3IgaGFzaCBwYXJhbWV0ZXJzIHdlcmUgZm91bmQuJyB9XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZ25vcmUgRE9NRXhjZXB0aW9uOiBCbG9ja2VkIGEgZnJhbWUgd2l0aCBvcmlnaW4gZnJvbSBhY2Nlc3NpbmcgYSBjcm9zcy1vcmlnaW4gZnJhbWUuXG4gICAgICAgIC8vIEEgaGFjayB0byBnZXQgYXJvdW5kIHNhbWUtb3JpZ2luIHNlY3VyaXR5IHBvbGljeSBlcnJvcnMgaW4gSW50ZXJuZXQgRXhwbG9yZXIuXG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGV4Y2hhbmdlQ29kZUZvclRva2VuKHsgb2F1dGhEYXRhLCBjb25maWcsIHdpbmRvdywgaW50ZXJ2YWwsIGRpc3BhdGNoIH0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgb2F1dGhEYXRhLCBjb25maWcpO1xuXG4gICAgcmV0dXJuIGZldGNoKGNvbmZpZy51cmwsIHtcbiAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJywgLy8gQnkgZGVmYXVsdCwgZmV0Y2ggd29uJ3Qgc2VuZCBhbnkgY29va2llcyB0byB0aGUgc2VydmVyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7IHRva2VuOiBqc29uLnRva2VuLCB1c2VyOiBqc29uLnVzZXIsIHdpbmRvdzogd2luZG93LCBpbnRlcnZhbDogaW50ZXJ2YWwsIGRpc3BhdGNoOiBkaXNwYXRjaCB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnT0FVVEhfRkFJTFVSRScsXG4gICAgICAgICAgICBtZXNzYWdlczogQXJyYXkuaXNBcnJheShqc29uKSA/IGpzb24gOiBbanNvbl1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjbG9zZVBvcHVwKHsgd2luZG93OiB3aW5kb3csIGludGVydmFsOiBpbnRlcnZhbCB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaWduSW4oeyB0b2tlbiwgdXNlciwgd2luZG93LCBpbnRlcnZhbCwgZGlzcGF0Y2ggfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdPQVVUSF9TVUNDRVNTJyxcbiAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgIHVzZXI6IHVzZXJcbiAgICB9KTtcbiAgICBjb29raWUuc2F2ZSgndG9rZW4nLCB0b2tlbiwgeyBleHBpcmVzOiBtb21lbnQoKS5hZGQoMSwgJ2hvdXInKS50b0RhdGUoKSB9KTtcbiAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJyk7XG4gICAgcmVzb2x2ZSh7IHdpbmRvdzogd2luZG93LCBpbnRlcnZhbDogaW50ZXJ2YWwgfSk7XG4gIH0pO1xuXG59XG5cblxuZnVuY3Rpb24gY2xvc2VQb3B1cCh7IHdpbmRvdywgaW50ZXJ2YWwgfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgIHJlc29sdmUoKTtcbiAgfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2FjdGlvbnMvb2F1dGguanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBT0E7QUEwQkE7QUFhQTtBQUNBO0FBL0NBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ })

})